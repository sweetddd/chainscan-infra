pipeline {
  agent {
    node {
      label 'maven-jdk11'
    }
  }

  stages {
    stage('Git') {
      steps {
        git(url: 'http://git.everylink.ai/paas/chainscan.git', credentialsId: 'gitaccount', changelog: true, poll: false)
      }
    }
    stage('Deploy Snapshot') {
      steps {
        dir('chainscan/openapi-spring-boot-starter-plugin-chainscan') {
            container('maven-jdk11') {
                sh 'mvn -DskipTests -Drat.skip=true clean deploy'
            }
        }
      }
    }
  }
}
